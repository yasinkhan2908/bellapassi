(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6281],{238:(e,a,s)=>{"use strict";s.d(a,{U:()=>c});var l=s(5155),n=s(2619),i=s.n(n),r=s(5239),t=s(926);let d=(0,t.createServerReference)("00be1721a99e4e47e29f5e87b2cd02043671d0c105",t.callServer,void 0,t.findSourceMapURL,"logoutAction"),c=e=>{let{}=e;return(0,l.jsxs)("div",{className:"profile-menu collapse d-lg-block",id:"profileMenu",children:[(0,l.jsxs)("div",{className:"user-info aos-init aos-animate","data-aos":"fade-right",children:[(0,l.jsx)("div",{className:"user-avatar",children:(0,l.jsx)(r.default,{src:"/img/ava3-bg.webp",height:88,width:88,alt:"Profile",loading:"lazy"})}),(0,l.jsx)("h4",{children:"yasin pathan"})]}),(0,l.jsxs)("nav",{className:"menu-nav",children:[(0,l.jsx)("ul",{className:"nav flex-column dashboard-nav",role:"tablist",children:[{name:"My Orders",path:"/user/dashboard/",icon:"bi bi-box-seam"},{name:"Wishlist",path:"/",icon:"bi bi-heart"},{name:"My Address",path:"/user/my-address/",icon:"bi bi-geo-alt"},{name:"Account Settings",path:"/user/account-setting/",icon:"bi bi-gear"}].map(e=>(0,l.jsx)("li",{className:"nav-item",role:"presentation",children:(0,l.jsxs)(i(),{className:"nav-link",href:e.path,children:[(0,l.jsx)("i",{className:e.icon}),(0,l.jsx)("span",{children:e.name})]})},e.path))}),(0,l.jsx)("div",{className:"menu-footer",children:(0,l.jsx)("form",{action:d,children:(0,l.jsxs)("button",{type:"submit",className:"logout-link",children:[(0,l.jsx)("i",{className:"bi bi-box-arrow-right"}),(0,l.jsx)("span",{children:"Log Out"})]})})})]})]})}},926:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var s in a)Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}(a,{callServer:function(){return l.callServer},createServerReference:function(){return i.createServerReference},findSourceMapURL:function(){return n.findSourceMapURL}});let l=s(1209),n=s(5153),i=s(7197)},1259:(e,a,s)=>{Promise.resolve().then(s.bind(s,7410))},7410:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var l=s(5155),n=s(238),i=s(2115),r=s(4897),t=s(8407),d=s.n(t);let c=["places"];function o(){let[e,a]=(0,i.useState)(null),[s,n]=(0,i.useState)(!1),[t,o]=(0,i.useState)({}),[m,h]=(0,i.useState)({name:"",email:"",phone:"",address:"",address_line_2:"",landmark:"",city:"",state:"",postalcode:"",country:""}),u=e=>{let{name:a,value:s}=e.target;h(e=>({...e,[a]:s})),t[a]&&o(e=>({...e,[a]:void 0}))},p=async e=>{if(e.preventDefault(),!(()=>{let e={};return m.name.trim()||(e.name="Name is required"),m.phone.trim()?/^\d{10,15}$/.test(m.phone.replace(/\D/g,""))||(e.phone="Please enter a valid phone number"):e.phone="Phone number is required",m.address.trim()||(e.address="Address is required"),m.city.trim()||(e.city="City is required"),m.state.trim()||(e.state="State is required"),m.postalcode.trim()?/^\d{4,10}$/.test(m.postalcode.replace(/\s/g,""))||(e.postalcode="Please enter a valid postal code"):e.postalcode="Postal code is required",o(e),0===Object.keys(e).length})())return void d().fire({title:"Validation Error",text:"Please fill in all required fields correctly",icon:"error",confirmButtonText:"OK"});n(!0);try{let e=await fetch("/api/user/add-shipping-address",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),a=await e.json();if(!e.ok)throw Error(a.message||"Something went wrong!");d().fire({title:"Success",text:a.message||"Address successfully added!",icon:"success",confirmButtonText:"Ok"}),h({name:"",email:"",phone:"",address:"",address_line_2:"",landmark:"",city:"",state:"",postalcode:"",country:""})}catch(e){d().fire({title:"Error",text:e instanceof Error?e.message:"Failed. Please try again.",icon:"error",confirmButtonText:"OK"})}finally{n(!1)}};return(0,l.jsxs)("form",{onSubmit:p,className:"php-email-form settings-form",children:[(0,l.jsxs)("div",{className:"row g-3",children:[(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"Name *"}),(0,l.jsx)("input",{type:"text",className:"form-control ".concat(t.name?"is-invalid":""),name:"name",placeholder:"Enter Name",value:m.name,onChange:u}),t.name&&(0,l.jsx)("div",{className:"invalid-feedback d-block",children:t.name})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsx)("label",{className:"form-label",children:"Email"}),(0,l.jsx)("input",{type:"email",className:"form-control",name:"email",placeholder:"Enter Email",value:m.email,onChange:u})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsx)("label",{className:"form-label",children:"Phone Number *"}),(0,l.jsx)("input",{type:"tel",className:"form-control ".concat(t.phone?"is-invalid":""),name:"phone",placeholder:"Enter Phone Number",value:m.phone,onChange:u}),t.phone&&(0,l.jsx)("div",{className:"invalid-feedback d-block",children:t.phone})]}),(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"Address *"}),(0,l.jsx)(r.aJ,{googleMapsApiKey:"AIzaSyDZ6-4q6SVGEzxA9TP01_jp_CiSMkoIhP0",libraries:c,children:(0,l.jsx)(r.jT,{onLoad:e=>{a(e)},onPlaceChanged:()=>{if(e){let a=e.getPlace(),s=a.address_components||[],l=e=>{var a;return(null==(a=s.find(a=>a.types.includes(e)))?void 0:a.long_name)||""};h(e=>({...e,address:a.formatted_address||"",city:l("locality")||l("administrative_area_level_2"),state:l("administrative_area_level_1"),postalcode:l("postal_code"),country:l("country")})),o(e=>({...e,address:void 0,city:void 0,state:void 0,postalcode:void 0}))}},children:(0,l.jsx)("input",{type:"text",className:"form-control pac-target-input ".concat(t.address?"is-invalid":""),name:"address",placeholder:"Enter Address",value:m.address,onChange:u})})}),t.address&&(0,l.jsx)("div",{className:"invalid-feedback d-block",children:t.address})]}),(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"Address Line 2"}),(0,l.jsx)("input",{type:"text",className:"form-control",name:"address_line_2",placeholder:"Enter Address Line 2",value:m.address_line_2,onChange:u})]}),(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"Landmark"}),(0,l.jsx)("input",{type:"text",className:"form-control",name:"landmark",placeholder:"Enter Landmark",value:m.landmark,onChange:u})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsx)("label",{className:"form-label",children:"State *"}),(0,l.jsx)("input",{type:"text",className:"form-control ".concat(t.state?"is-invalid":""),name:"state",placeholder:"Enter State",value:m.state,onChange:u}),t.state&&(0,l.jsx)("div",{className:"invalid-feedback d-block",children:t.state})]}),(0,l.jsxs)("div",{className:"col-md-6",children:[(0,l.jsx)("label",{className:"form-label",children:"City *"}),(0,l.jsx)("input",{type:"text",className:"form-control ".concat(t.city?"is-invalid":""),name:"city",placeholder:"Enter City",value:m.city,onChange:u}),t.city&&(0,l.jsx)("div",{className:"invalid-feedback d-block",children:t.city})]}),(0,l.jsxs)("div",{className:"col-md-12",children:[(0,l.jsx)("label",{className:"form-label",children:"Pin Code *"}),(0,l.jsx)("input",{type:"text",className:"form-control ".concat(t.postalcode?"is-invalid":""),name:"postalcode",placeholder:"Enter Pin Code",value:m.postalcode,onChange:u}),t.postalcode&&(0,l.jsx)("div",{className:"invalid-feedback d-block",children:t.postalcode})]}),(0,l.jsx)("input",{type:"hidden",name:"country",value:m.country})]}),(0,l.jsx)("div",{className:"form-buttons",children:(0,l.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",disabled:s,children:s?"Saving...":"Save Address"})})]})}function m(){return(0,l.jsx)("main",{className:"main",children:(0,l.jsx)("section",{id:"account",className:"account section",children:(0,l.jsx)("div",{className:"container",children:(0,l.jsxs)("div",{className:"row g-4",children:[(0,l.jsx)("div",{className:"col-lg-3",children:(0,l.jsx)(n.U,{})}),(0,l.jsx)("div",{className:"col-lg-9",children:(0,l.jsx)("div",{className:"content-area",children:(0,l.jsx)("div",{className:"tab-content",children:(0,l.jsxs)("div",{className:"tab-pane fade active show",id:"addresses",role:"tabpanel",children:[(0,l.jsx)("div",{className:"section-header",children:(0,l.jsx)("h2",{children:"Add New Address"})}),(0,l.jsx)("div",{className:"addresses-grid",children:(0,l.jsx)("div",{className:"address-card active mb-3",children:(0,l.jsx)(o,{})})})]})})})})]})})})})}}},e=>{e.O(0,[6084,8320,5481,8441,1255,7358],()=>e(e.s=1259)),_N_E=e.O()}]);