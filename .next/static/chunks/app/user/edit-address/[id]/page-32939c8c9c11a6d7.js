(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9722],{63:(e,a,s)=>{"use strict";var t=s(7260);s.o(t,"useRouter")&&s.d(a,{useRouter:function(){return t.useRouter}})},238:(e,a,s)=>{"use strict";s.d(a,{U:()=>c});var t=s(5155),l=s(2619),n=s.n(l),r=s(5239),i=s(926);let d=(0,i.createServerReference)("00be1721a99e4e47e29f5e87b2cd02043671d0c105",i.callServer,void 0,i.findSourceMapURL,"logoutAction"),c=e=>{let{}=e;return(0,t.jsxs)("div",{className:"profile-menu collapse d-lg-block",id:"profileMenu",children:[(0,t.jsxs)("div",{className:"user-info aos-init aos-animate","data-aos":"fade-right",children:[(0,t.jsx)("div",{className:"user-avatar",children:(0,t.jsx)(r.default,{src:"/img/ava3-bg.webp",height:88,width:88,alt:"Profile",loading:"lazy"})}),(0,t.jsx)("h4",{children:"yasin pathan"})]}),(0,t.jsxs)("nav",{className:"menu-nav",children:[(0,t.jsx)("ul",{className:"nav flex-column dashboard-nav",role:"tablist",children:[{name:"My Orders",path:"/user/dashboard/",icon:"bi bi-box-seam"},{name:"Wishlist",path:"/",icon:"bi bi-heart"},{name:"My Address",path:"/user/my-address/",icon:"bi bi-geo-alt"},{name:"Account Settings",path:"/user/account-setting/",icon:"bi bi-gear"}].map(e=>(0,t.jsx)("li",{className:"nav-item",role:"presentation",children:(0,t.jsxs)(n(),{className:"nav-link",href:e.path,children:[(0,t.jsx)("i",{className:e.icon}),(0,t.jsx)("span",{children:e.name})]})},e.path))}),(0,t.jsx)("div",{className:"menu-footer",children:(0,t.jsx)("form",{action:d,children:(0,t.jsxs)("button",{type:"submit",className:"logout-link",children:[(0,t.jsx)("i",{className:"bi bi-box-arrow-right"}),(0,t.jsx)("span",{children:"Log Out"})]})})})]})]})}},612:(e,a,s)=>{Promise.resolve().then(s.bind(s,8314))},926:(e,a,s)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),!function(e,a){for(var s in a)Object.defineProperty(e,s,{enumerable:!0,get:a[s]})}(a,{callServer:function(){return t.callServer},createServerReference:function(){return n.createServerReference},findSourceMapURL:function(){return l.findSourceMapURL}});let t=s(1209),l=s(5153),n=s(7197)},8314:(e,a,s)=>{"use strict";s.d(a,{default:()=>m});var t=s(5155);s(6203);var l=s(2115),n=s(8358),r=s(2663),i=s(63),d=s(238),c=s(4897);let o=["places"];function m(e){let{id:a}=e,[s,m]=(0,l.useState)("Update Address"),[u,h]=(0,l.useState)(!1),p=(0,i.useRouter)(),[x,v]=(0,l.useState)(null),[j,f]=(0,l.useState)(null),[b,N]=(0,l.useState)(""),[g,y]=(0,l.useState)(""),[_,S]=(0,l.useState)(""),[A,k]=(0,l.useState)(""),[C,E]=(0,l.useState)(""),[w,P]=(0,l.useState)(""),[R,U]=(0,l.useState)(""),[L,M]=(0,l.useState)(""),[O,z]=(0,l.useState)(""),[I,T]=(0,l.useState)(""),[B,D]=(0,l.useState)(null),[q,F]=(0,l.useState)({name:"",email:"",phone:"",address:"",address_line_2:"",city:"",state:"",postalcode:"",country:"",landmark:""}),G=e=>{let{name:a,value:s}=e.target;F(e=>({...e,[a]:s}))},J=async e=>{h(!0),m("Updating..."),e.preventDefault();try{await n.A.get("/sanctum/csrf-cookie");let e=localStorage.getItem("token"),s=await n.A.post("/api/user/update-shipping-address",{id:a,name:q.name,email:q.email,phone:_,address:w,city:R,state:L,postalcode:O,country:I,landmark:q.landmark,address_line_2:q.address_line_2},{headers:{Authorization:"Bearer ".concat(e)}});if(!1===s.data.success){r.Ay.dismiss(),r.Ay.error(s.data.message||"Something went wrong!");return}r.Ay.dismiss(),r.Ay.success(s.data.message||"Account successfully updated!"),m("Update Address"),setTimeout(()=>{p.push("/user/my-address")},500)}catch(e){m("Update Address"),r.Ay.dismiss(),r.Ay.error("Failed. Please try again.")}};return(0,l.useEffect)(()=>{let e=async()=>{let e=localStorage.getItem("token"),{data:s}=await n.A.get("/api/user/single-shipping-address/".concat(a),{headers:{Authorization:"Bearer ".concat(e)}});f(s.data),F(e=>({...e,name:s.data.name})),F(e=>({...e,email:s.data.email})),S(s.data.mobile),P(s.data.address_line_1),F(e=>({...e,address_line_2:s.data.address_line_2})),M(s.data.state),U(s.data.city),T(s.data.country),z(s.data.postcode),F(e=>({...e,landmark:s.data.landmark}))};a&&e()},[a]),(0,t.jsx)("main",{className:"main",children:(0,t.jsx)("section",{id:"account",className:"account section",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"row g-4",children:[(0,t.jsx)("div",{className:"col-lg-3",children:(0,t.jsx)(d.U,{})}),(0,t.jsx)("div",{className:"col-lg-9",children:(0,t.jsx)("div",{className:"content-area",children:(0,t.jsx)("div",{className:"tab-content",children:(0,t.jsxs)("div",{className:"tab-pane fade active show",id:"addresses",role:"tabpanel",children:[(0,t.jsx)("div",{className:"section-header aos-init aos-animate","data-aos":"fade-up",children:(0,t.jsx)("h2",{children:"Update Address"})}),(0,t.jsx)("div",{className:"addresses-grid",children:(0,t.jsx)("div",{className:"address-card aos-init aos-animate active mb-3","data-aos":"fade-up","data-aos-delay":"200",children:(0,t.jsxs)("form",{className:"php-email-form settings-form ajaxformfileupload",onSubmit:J,method:"post",children:[(0,t.jsxs)("div",{className:"row g-3",children:[(0,t.jsxs)("div",{className:"col-md-12",children:[(0,t.jsx)("label",{className:"form-label",children:"Name"}),(0,t.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",placeholder:"Enter Name ",value:q.name,onChange:G})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label",children:"Email"}),(0,t.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Enter Email ",value:q.email,onChange:G})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label",children:"Phone Number"}),(0,t.jsx)("input",{type:"tel",className:"form-control",id:"phone_number",name:"phone_number",placeholder:"Enter Phone Number ",value:_,onChange:e=>S(e.target.value)})]}),(0,t.jsxs)("div",{className:"col-md-12",children:[(0,t.jsx)("label",{className:"form-label",children:"Address"}),(0,t.jsx)(c.aJ,{googleMapsApiKey:"AIzaSyDZ6-4q6SVGEzxA9TP01_jp_CiSMkoIhP0",libraries:o,children:(0,t.jsx)(c.jT,{onLoad:e=>v(e),onPlaceChanged:()=>{if(x){let e=x.getPlace();P(e.formatted_address||"");let a=e.address_components||[],s=e=>{var s;return(null==(s=a.find(a=>a.types.includes(e)))?void 0:s.long_name)||""};U(s("locality")||s("administrative_area_level_2")),M(s("administrative_area_level_1")),z(s("postal_code")),T(s("country"))}},children:(0,t.jsx)("input",{type:"text",className:"form-control pac-target-input",id:"autocomplete",name:"address",placeholder:"Enter Address ",value:w,onChange:e=>P(e.target.value)})})}),(0,t.jsx)("input",{type:"hidden",name:"country",id:"country",value:q.country})]}),(0,t.jsxs)("div",{className:"col-md-12",children:[(0,t.jsx)("label",{className:"form-label",children:"Address Line 2"}),(0,t.jsx)("input",{type:"text",className:"form-control",id:"address_line_2",name:"address_line_2",placeholder:"Enter Address Line 1",value:q.address_line_2,onChange:G})]}),(0,t.jsxs)("div",{className:"col-md-12",children:[(0,t.jsx)("label",{className:"form-label",children:"Landmark"}),(0,t.jsx)("input",{type:"text",className:"form-control",id:"landmark",name:"landmark",placeholder:"Enter Landmark ",value:q.landmark,onChange:G})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label",children:"State"}),(0,t.jsx)("input",{type:"text",className:"form-control",id:"state",name:"state",placeholder:"Enter State ",value:L,onChange:e=>M(e.target.value)})]}),(0,t.jsxs)("div",{className:"col-md-6",children:[(0,t.jsx)("label",{className:"form-label",children:"City"}),(0,t.jsx)("input",{type:"text",className:"form-control",id:"city",name:"city",placeholder:"Enter City ",value:R,onChange:e=>U(e.target.value)})]}),(0,t.jsxs)("div",{className:"col-md-12",children:[(0,t.jsx)("label",{className:"form-label",children:"Pin Code"}),(0,t.jsx)("input",{type:"text",className:"form-control",id:"pin_code",name:"pin_code",placeholder:"Enter Pin Code ",value:O,onChange:e=>z(e.target.value)})]})]}),(0,t.jsx)("div",{className:"form-buttons",children:(0,t.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:s})})]})})})]})})})})]})})})})}},8358:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});let t=s(5125).A.create({baseURL:"https://bellapassi.admin.engineers2.com/",withCredentials:!1})}},e=>{e.O(0,[5724,6084,5481,1095,2663,8441,1255,7358],()=>e(e.s=612)),_N_E=e.O()}]);